<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="resultstyle.css">



</head>

<body>
    <div class="resulthead">
        Your Results!
        <a href="../index.html">
        <button id="home" >Home</button></a>
    </div>
    <div class="chances">                        Your Chances of having any illness</div>
    <div class="chartcontainer">
        
        <div class='chart'>
            
            <canvas id="myPieChart"></canvas>
        </div>
        <div class="score">Your Final Score is  </div>
    </div>
    <h2>Start Here - Ways you can look after yourself</h2>
    <div class="main">
        <div class="common">
            <p>Talk about how you're feeling and what's making you anxious. Just being heard and understood may make you
                feel better. You can open up to a friend or you can...</p>
            <div class="journal">
                <p>Write what's in your mind</p>
                <a href="../HomePage/Calendar/journal.html"><button type="button" class="btn">Journal</button></a>
                <p>Letting it all out is the best therapy</p>
            </div>
        </div>
        <div class="common">
            <p>Look after your physical health. Eating well, staying physically active, avoiding cigarettes and alcohol
                and getting enough sleep can also help you manage anxiety better.</p>
            <div class="to-do">
                <p>Manage your day better with this</p>
                <a href="../HomePage/Calendar/todo.html"><button type="button" class="btn">To-Do</button></a>
                <p>Having a well-managed day is the first step to a good mental health</p>
            </div>
        </div>
        <div class="common">
            <div class="sleep">
                <p>Learn more about insomnia and related problems here</p>
                <a href="https://www.sleepfoundation.org/insomnia"><button type="button" class="btn">Learn More</button></a>
                <p>Think of your sleep cycle as a caring guardian for your mind. Just like a friend who helps you stay
                    emotionally resilient and focused.</p>
            </div>
        </div>
        <div class="common">
            <div class="relax">
                <p>Relax and Meditate - Meditation serves as a soothing balm for anxiety, offering a calm refuge in the
                    midst of life's storms.</p>
                    <a href="https://www.mindful.org/how-to-meditate/"><button type="button" class="btn">Guided Meditation</button></a>
                <p>You can create a space to observe and detach from anxious thoughts, fostering a sense of inner peace
                    and resilience.</p>
            </div>
        </div>
        <div class="common">
            <div class="group">
                <p>Consider joining a peer support group like our community. They offer a safe place to share your
                    experiences and worries with other people who also face the same as you.</p>
                <p>Stay anonymous if you want.</p>
                <a href="https://discord.com/invite/nZAf7nzw"><button type="button" class="btn">Community</button></a>
            </div>
        </div>
    </div>

    <div class="special">
        <h3>Special Tips For YOU!</h3>
        <div class="tip1"></div>
        <div class="tip2"></div>
        <div class="tip3"></div>
        <div class="tip4"></div>
        <div class="tip5"></div>
        <div class="tip6"></div>
        <div class="tipf"></div>
      
    </div>

    <div id="kumar"><a href="map.html">Click <span id="here">here </span>to view nearby Healthcare Centers!</a></div>

</body>
<script>
   var score1 = parseInt(localStorage.getItem('score1')) || 0;
var score2 = parseInt(localStorage.getItem('score2')) || 0;
var score3 = parseInt(localStorage.getItem('score3')) || 0;
var score4 = parseInt(localStorage.getItem('score4')) || 0;
var score5 = parseInt(localStorage.getItem('score5')) || 0;
var score6 = parseInt(localStorage.getItem('score6')) || 0;

// Calculate the numeric sum of all scores
let finalscore = score1 + score2 + score3 + score4 + score5 + score6;

console.log('Final score: ' + finalscore);

let per1 = (45 - score1) / 45 * 100;
let per2 = (45 - score2) / 45 * 100;
let per3 = (25 - score3) / 25 * 100;
let per4 = (35 - score4) / 35 * 100;
let per5 = (35 - score5) / 35 * 100;
let per6 = (25 - score6) / 25 * 100;

let safescore1 = 22;
let safescore2 = 22;
let safescore3 = 15;
let safescore4 = 18;
let safescore5 = 18;
let safescore6 = 15;
let finalsafescore = 90;

console.log(per1);
console.log(per2);
console.log(per3);
console.log(per4);
console.log(per5);

// let fper=(per1+per2+per3+per4+per5+per6)*100;
let fper = Math.round((per1 + per2 + per3 + per4 + per5 + per6) *10);
let noper = 600 - fper/10;
let fperf = 6000-fper;

console.log(fper);
 console.log(noper);

let sortedData = [noper,per1, per2, per3, per4, per5,per6].sort((a, b) => b - a);
let sortedLabels = ['Your chances of being all well!','Depression', 'PSTD', 'Anxiety Disorder', 'Bipolar Disorder', 'OCD', 
'Schizophrenia'].sort((a, b) => {
    let indexA = [noper,per1, per2, per3, per4, per5,per6].indexOf(a);
    let indexB = [noper,per1, per2, per3, per4, per5,per6].indexOf(b);
    return indexA - indexB;
});
const sshades = [
    '#EC8482',
    '#F4a9a7',
    '#FD8F52',
    '#FD8F52',
    '#F9CAC3',
    '#FFDCA2',
    
    
];

var ctx = document.getElementById('myPieChart').getContext('2d');
var myPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: sortedLabels,
        datasets: [{
            data: sortedData,
            backgroundColor: sshades,
        }],
    },
    options: {
        title: {
            display: true,
            text: 'Scores Distribution',
        },
    },
});


document.querySelector('.score').innerHTML += `${fperf}`;


    if (score1 < safescore1) {
      
        document.querySelector('.tip1').innerHTML += "<ul>\
    <li>Spend time in nature. Research shows that being in nature can make us feel happier, feel our lives are more worthwhile, and reduce our levels of depression.</li>\
    <li>Try talking therapy to stay well.</li>\
    <li>It's important to remember that this is not a substitute for professional help. It's crucial to reach out to a professional.</li>\
</ul>";}




if (score2 < safescore2) {
    document.querySelector('.tip2').innerHTML += "<ul>\
        <li>Considering the challenges you are facing, it might be helpful to speak with a professional, like a doctor or therapist, who specializes in dealing with trauma and PTSD.</li>\
        <li>Flashbacks can be very distressing. Grounding techniques can help bring you back to the present. For example, focus on breathing slowly and deeply, carry a small object to touch to comfort you, or describe what you are doing right now in great detail (out loud if you can).</li>\
        <li>Understand what triggers your flashbacks or other symptoms. These could be places, people, sounds, phrases, or smells. Being prepared always helps.</li>\
        <li>It's important to remember that this is not a substitute for professional help and crucial to reach out to a professional.</li>\
    </ul>";
}

if (score3 < safescore3) {
    document.querySelector('.tip3').innerHTML += "<ul>\
        <li>Try to learn more about your fear or anxiety. Keep an anxiety diary to note down how you're feeling, what causes you to feel anxious, and what happens.</li>\
        <li>When you understand how anxiety affects you, you'll be better able to manage the feelings.</li>\
        <li>It's important to remember that this is not a substitute for professional help and crucial to reach out to a professional.</li>\
    </ul>";
}

if (score4 < safescore4) {
    document.querySelector('.tip4').innerHTML += "<ul>\
        <li>Keep a record of your moods to help you understand your mood swings.</li>\
        <li>Cognitive Behavioural Therapy (CBT) can help you recognize how your feelings, thoughts, and behavior influence each other and build strategies to change these patterns.</li>\
        <li>It's important to remember that this is not a substitute for professional help and crucial to reach out to a professional.</li>\
    </ul>";
}

if (score5 < safescore5) {
    document.querySelector('.tip5').innerHTML += "<ul>\
        <li>We all have worries and anxieties at times and may have mild compulsions. However, if your thoughts or compulsions seem excessive, cause you distress, or affect your ability to carry out your daily life, it's important to ask for help.</li>\
        <li>OCD rarely goes away by itself. Professionals may offer you talking therapy, medication, or both.</li>\
        <li>The right help for you will depend on how intense your OCD is and how much it affects your life.</li>\
    </ul>";
}

if (score6 < safescore6) {
    document.querySelector('.tip6').innerHTML += "<ul>\
        <li>It's advisable to reach out to a professional while dealing with schizophrenia.</li>\
        <li>Schizophrenia is often treated with a combination of talking therapy and medication.</li>\
        <li><strong>Myth:</strong> Schizophrenia can't be treated</li>\
        <li><strong>Fact:</strong> People with schizophrenia may need long-term support, but the condition can be treated. Some people find that most of their symptoms get better, while others find they stop for a long time or never return.</li>\
        <li>It's important to remember that this is not a substitute for professional help. It's crucial to reach out to a professional.</li>\
    </ul>";
}

    if (finalscore < finalsafescore) {
        document.querySelector('.tipf').innerHTML += '<h3>We highly recommend you to visit a nearby healthcare centre.\n</h3>';
    } else if (finalscore < 150) {
        document.querySelector('.tipf').innerHTML += '<h3>You may visit near by healthcare centre if you don\'t see improvement with other tips\n</h3>';
    } else {
        document.querySelector('.tipf').innerHTML += '<h3>You can have a look, but don\'t worry, you don\'t need!\n</h3>';
    }

</script>

</html>