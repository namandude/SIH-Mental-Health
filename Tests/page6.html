<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 6</title>
    <link rel="stylesheet" href="style-test.css">

   
</head>

<body>

    <form id="customForm" onsubmit="store()">
        <div class="question">
            <p>Do negative symptoms (lack of motivation, social withdrawal) affect your 
                ability to engage in daily activities?</p>
                A lot
                <button type="button" class="custom-button" id="red" onclick="updateScore(1)"></button>
                <button type="button" class="custom-button" id="orange" onclick="updateScore(2)"></button>
                <button type="button" class="custom-button" id="yellow" onclick="updateScore(3)"></button>
                <button type="button" class="custom-button" id="blue" onclick="updateScore(4)"></button>
                <button type="button" class="custom-button" id="green" onclick="updateScore(5)"></button>
                Not at all
        </div>

        <div class="question">
            <p>Do you feel a sense of control over your thoughts during periods of 
                psychosis?</p>
                A lot
                <button type="button" class="custom-button" id="red" onclick="updateScore(1)"></button>
                <button type="button" class="custom-button" id="orange" onclick="updateScore(2)"></button>
                <button type="button" class="custom-button" id="yellow" onclick="updateScore(3)"></button>
                <button type="button" class="custom-button" id="blue" onclick="updateScore(4)"></button>
                <button type="button" class="custom-button" id="green" onclick="updateScore(5)"></button>
                Not at all
        </div>

        <div class="question">
            <p>How would you rate the impact of positive symptoms (hallucinations, delusions) on your 
                daily life?</p>
                A lot
                <button type="button" class="custom-button" id="red" onclick="updateScore(1)"></button>
                <button type="button" class="custom-button" id="orange" onclick="updateScore(2)"></button>
                <button type="button" class="custom-button" id="yellow" onclick="updateScore(3)"></button>
                <button type="button" class="custom-button" id="blue" onclick="updateScore(4)"></button>
                <button type="button" class="custom-button" id="green" onclick="updateScore(5)"></button>
                Not at all

        </div>

        <div class="question">
            <p>Do you find yourself questioning the reality of your perceptions or thoughts?
            </p>
            A lot
            <button type="button" class="custom-button" id="red" onclick="updateScore(1)"></button>
            <button type="button" class="custom-button" id="orange" onclick="updateScore(2)"></button>
            <button type="button" class="custom-button" id="yellow" onclick="updateScore(3)"></button>
            <button type="button" class="custom-button" id="blue" onclick="updateScore(4)"></button>
            <button type="button" class="custom-button" id="green" onclick="updateScore(5)"></button>
            Not at all
        </div>

        <div class="question">
            <p>Do you feel that others misunderstand or misinterpret your behaviors? </p>
                A lot
                <button type="button" class="custom-button" id="red" onclick="updateScore(1)"></button>
                <button type="button" class="custom-button" id="orange" onclick="updateScore(2)"></button>
                <button type="button" class="custom-button" id="yellow" onclick="updateScore(3)"></button>
                <button type="button" class="custom-button" id="blue" onclick="updateScore(4)"></button>
                <button type="button" class="custom-button" id="green" onclick="updateScore(5)"></button>
                Not at all

        </div>

        <button type="button" onclick="calculateScore()" class="submit">Submit</button>
        
    </form>

    <script>
       let score6 = 0;

// Retrieving score1 from localStorage


function updateScore(value) {
    score6 += value;
}

function calculateScore() {
    console.log('Your final score for Page 6 is: ' + score6);

    // Storing score2 in localStorage
    localStorage.setItem('score6', score6);

var score1 = parseInt(localStorage.getItem('score1')) || 0;
var score2 = parseInt(localStorage.getItem('score2')) || 0;
var score3 = parseInt(localStorage.getItem('score3')) || 0;
var score4 = parseInt(localStorage.getItem('score4')) || 0;
var score5 = parseInt(localStorage.getItem('score5')) || 0;


// Calculate the numeric sum of all scores
let finalscore = score1 + score2 + score3 + score4 + score5 + score6;

console.log('Final score: ' + finalscore);

let per1 = (45 - score1) / 45 * 100;
let per2 = (45 - score2) / 45 * 100;
let per3 = (25 - score3) / 25 * 100;
let per4 = (35 - score4) / 35 * 100;
let per5 = (35 - score5) / 35 * 100;
let per6 = (25 - score6) / 25 * 100;

let safescore1 = 22;
let safescore2 = 22;
let safescore3 = 15;
let safescore4 = 18;
let safescore5 = 18;
let safescore6 = 15;
let finalsafescore = 90;

console.log(per1);
console.log(per2);
console.log(per3);
console.log(per4);
console.log(per5);

// let fper=(per1+per2+per3+per4+per5+per6)*100;
let fper = Math.round((per1 + per2 + per3 + per4 + per5 + per6)*10);
let noper = 600 - fper/10;

console.log(fper);
console.log(noper);

    // Redirecting to result.html or any other page
    window.location.href = 'result.html';
}

    </script>
    

</body>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script src="result.js"></script>

</html>